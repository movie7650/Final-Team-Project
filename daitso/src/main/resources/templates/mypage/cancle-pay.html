<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="include/header :: header">
<link rel="stylesheet" th:href="@{/css/admin-frame.css}">
<title>입금/결제 페이지</title>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WJB8ZT4ELE"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WJB8ZT4ELE');
</script>
</head>
<body>
<div th:replace="include/body-header :: bodyHeader"></div>
<div th:replace="include/mypage-bread-board :: mypageBreadBoard"></div>
<!-- <form th:action="@{/mypage/order-list}" method="post"> -->


 <div class="order-list-main"> 
 <div th:replace="include/mypage-bread-board :: mypageBreadBoard01"></div>
	<div class="title-order-list">입금/결제</div>
		
	<div class="order-category">
		<div class="pay-order-rectangle01"><a th:href="@{/mypage/orderlist}">전체주문조회</a></div>
		<div class="pay-order-rectangle02"><a th:href="@{/mypage/canclepay}">입금/결제</a></div>
		<div class="pay-order-rectangle03"><a th:href="@{/mypage/searchshipping}">배송중</a></div>
		<div class="pay-order-rectangle04"><a th:href="@{/mypage/shippingcomplete}">배송완료</a></div>
	</div><!-- order-category -->
	<div style="margin-top:200px; padding-right:55px;">
 	<div style="width:800px;" th:if="${payCoinCount}== 0">
 				<div style="background-color: #f3f3f3; margin-bottom:50px; text-align:center; width:855px; margin-left:-25px; height: 450px;">
				<div style="font-weight:600; font-size: 30px; padding-top:140px;"><span style="color:#e8c369;">입금/결제</span> 상품이 없습니다.</div>
				<button id="goto-order-button" onclick="location.href='/'">주문하러가기</button>
			</div>
 	</div> 
		<th:block th:each="purchase : ${purchaseList}">
			<div th:if="${purchase.purchaseDv}==401" class="order-list-container">
				<div class="order-list-container-01">
					<div style="display: flex;">
						<div style="color:#e8c369; font-size:20px; font-weight: bold;" th:if="${purchase.purchaseDv}== 401">입금/결제</div>
						<div class="my-order-date" th:text="|주문날짜: ${purchase.createDt}|">주문날짜</div> 
					</div>
					
					<div style="margin-top:10px;">
						<div class="purchase-img-001"><img style="width:100%; height:100%;"  th:src="${purchase.productImg}"></div>
						<div class="purchase-product-inform">
							<div class="purchase-number" th:text="|주문번호: ${purchase.purchaseNum}|">주문번호</div>
							<div class="purchase-inform-001" th:text="|상품명: ${purchase.productNm}|" >ProductName</div>
							<div class="purchase-count" th:text="|수량: ${purchase.purchaseCount}개|">구매수량</div>
							<div class="purchase-product-cost" th:text="|상품가격: ${purchase.purchasePrice}원|"></div>
							<div class="purchase-total-cost"th:text="|총 가격: ${purchase.totalCost}원|">총 가격</div>
						</div><!-- purchase-product-inform -->
					</div>
				</div><!-- order-list-container01 -->
				
				
				<div class="detail-button-container">
				<div style="height:100%; line-height: normal; display: flex; flex-direction: column; justify-content: center; align-items: center; ">
					<input type="button" th:onclick="|location.href='@{/mypage/mydetailorder?purchaseNum=__${purchase.purchaseNum}__}'|"  value="주문상세보기" class="detail-button">
					<input type="button" th:if="${purchase.purchaseDv} == '배송완료'" th:onclick="|location.href='@{/mypage/writeReview?productId=__${purchase.productId}__&purchaseNum=__${purchase.purchaseNum}__}'|" value="리뷰남기기" class="detail-button01">
					</div>
				</div><!-- shipping-button-container -->	
			</div><!-- order-list-container -->
		 </th:block>
		 </div>
 </div><!-- order-list-main -->

<!-- </form> -->

<div th:if="${payCoinCount}!= 0" style="display:flex; justify-content: center;">
<nav  aria-label="Page navigation">
<ul class="pagination01">
	<li th:if="${nowPageBlock>1}">
		<a th:href="@{/mypage/canclepay (page=__${startPage-1}__)}" aria-label="Previous">◀</a>
	</li>

	<li th:onclick ="|location.href='@{/mypage/canclepay (page=__${i}__)}'|"
	th:each="i: ${#numbers.sequence(startPage, endPage)}" th:classappend="${i==nowPage}?active">
		<a th:href="@{/mypage/canclepay(page=__${i}__)}">[[${i}]]</a>		
	</li>
	
	<li th:if="${nowPageBlock<totalPageBlock}">
		<a th:href="@{/mypage/canclepay (page=__${endPage+1}__)}" aria-label="Next">▶</a>
	</li>
</ul>
</nav>
</div>





<div th:replace="include/footer :: footer"></div>
</body>
<script th:src="@{/js/mic.js}"></script>
</html>