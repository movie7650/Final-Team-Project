<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{/include/header :: header}">
</head>
<body>
<div th:replace="~{/include/body-header :: bodyHeader}"></div>
<div th:replace="~{/include/mypage-bread-board :: mypageBreadBoard}"></div>

<div class="mypage-coupon-main">
<div th:replace="~{/include/mypage-bread-board :: mypageBreadBoard01}"></div>
<div class="mypage-coupon-title">쿠폰조회하기</div>

<div class="coupon-container">
<!-- 	<div class="coupon-number-container">
		<div class="coupon-insert-title">쿠폰번호입력</div>
		
		<div class="coupon-number-input-container">
		<form th:action="@{/mypage/mycoupon}" method="post">
			<input required autocomplete=off name="couponNum1" type="text" class="coupon-num-01" oninput='maxNum(this, 4)'>
			<input required autocomplete=off name="couponNum2" type="text" class="coupon-num-01" oninput='maxNum(this, 4)'>
			<input required autocomplete=off name="couponNum3" type="text" class="coupon-num-01" oninput='maxNum(this, 4)'>
			<input required autocomplete=off name="couponNum4" type="text" class="coupon-num-01" oninput='maxNum(this, 4)'>
			<button type="submit">등록하기</button>
		</form>
		</div>coupon-number-input-container
		
	</div>coupon-number-container -->
	
	<!-- 4자리만 입력가능하게 하는 JS -->
	<script th:inline="javascript">
	function maxNum(el, maxlength) {
		  if(el.value.length > maxlength)  {
		    el.value 
		      = el.value.substr(0, maxlength);
		  }
		}
	const error = [[${error}]];
	   if(error){
		   alert(error);
	   }	
	</script>
	
	<div class="coupon-table-container" style="margin-top:100px; margin-bottom:20px;">
	
	
		<div class="coupon-status-container">
			<div class="coupon-ban-usable"><a th:href="@{/mypage/mycoupon}">사용가능</a></div>
			<div class="coupon-ban-used">사용완료/기간만료</div>
		</div><!--coupon-status-container  -->
		
		<table>
			<tr>
				<th style="width:250px;">쿠폰명</th>
				<th>할인율</th>
				<th>만료일</th>
				<th>상태</th>
			</tr>
				
			<tr th:each="selectBanCustomerCoupon : ${banCustomerCouponList}">
				<td th:text="${selectBanCustomerCoupon.couponNm}">10%할인쿠폰</td>
				<td th:text="${selectBanCustomerCoupon.couponDscntRate}">10%</td>
				<td th:text="${selectBanCustomerCoupon.couponEprDt}">24.08.01</td>
				<td th:text="${selectBanCustomerCoupon.couponUseDv}">사용완료</td>
			</tr>
		</table>
		
		
		
	</div><!-- coupon-table-container -->
</div><!-- coupon-container -->
</div><!-- mypage-coupon-main -->

<div th:if="${cantusecoupon} != 0" style="display:flex; justify-content: center;">
<nav  aria-label="Page navigation">
<ul class="pagination">
	<li th:if="${nowPageBlock>1}">
		<a th:href="@{/mypage/mycoupon-used (page=__${startPage-1}__)}" aria-label="Previous">◀</a>
	</li>

	<li th:each="i: ${#numbers.sequence(startPage, endPage)}" th:classappend="${i==nowPage}?active">
		<a th:href="@{/mypage/mycoupon-used (page=__${i}__)}">[[${i}]]</a>		
	</li>
	
	<li th:if="${nowPageBlock<totalPageBlock}">
		<a th:href="@{/mypage/mycoupon-used (page=__${endPage+1}__)}" aria-label="Next">▶</a>
	</li>
</ul>
</nav>
</div>


<div th:replace="~{/include/footer :: footer}"></div>

</body>
</html>