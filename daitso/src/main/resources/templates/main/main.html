<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>메인</title>
<style>

</style>
</head>
<div th:replace="~{/include/header :: header}"></div>
<body>
	<div th:replace="~{/include/body-header :: bodyHeader}"></div>
	<div style="height:2800px" class="d-flex flex-column justify-content-center align-items-center">
		<div style="height: 430px; width:100%">
			<img style="width: 100%; height: 100%" th:src="@{/images/mainImages.png}">
		</div>
		<div>
			<div style="margin-top: 30px">
				<span style="margin-left: 15px; font-weight:bold">다있소 <span style="color:#9c27b0">추천</span> 카테고리</span>
				<div class="recommand-box-frame d-flex" style="height: 1000px; border: solid 2px #f0f0f0; margin-top: 30px ">
					<div class="d-flex flex-column align-items-center justify-content-center" style="width:100%">
						<div class="d-flex" style="width:97%; height: 32%">
							<div class="re-box" style="flex: 1; background-image: url('/images/cup.jpg'); background-size:100% 100%;">
								<div class="re-box-child">
									<p>[[${categoryList[0].categoryContent}]]</p>
								</div>
							</div>
							<div class="re-box" style="flex: 1; margin-left:15px; background-image: url('/images/grape.jpg'); background-size:100% 100%">
								<div class="re-box-child">
									<p>[[${categoryList[1].categoryContent}]]</p>
								</div>
							</div>
						</div>
						<div class="d-flex" style="width:97%; height: 32%">
							<div class="re-box" style="flex: 1;  background-image: url('/images/cloth2.jpg'); background-size:100% 100%;">
								<div class="re-box-child-mini">
									<p>[[${categoryList[2].categoryContent}]]</p>
								</div>
							</div>
							<div class="re-box" style="flex: 1; margin-left:15px;  background-image: url('/images/manCloth.jpg'); background-size:100% 100%">
								<div class="re-box-child-mini">
									<p>[[${categoryList[3].categoryContent}]]</p>
								</div>
							</div>
							<div class="re-box" style="flex: 1; margin-left:15px;  background-image: url('/images/chocolate.jpg'); background-size:100% 100%">
								<div class="re-box-child-mini">
									<p>[[${categoryList[4].categoryContent}]]</p>
								</div>
							</div>
							<div class="re-box" style="flex: 1; margin-left:15px;  background-image: url('/images/dish.jpg'); background-size:100% 100%">
								<div class="re-box-child-mini">
									<p>[[${categoryList[5].categoryContent}]]</p>
								</div>
							</div>
						</div>
						<div class="d-flex" style="width:97%; height: 32%">
							<div class="re-box" style="flex: 1; background-image: url('/images/hairTreatment.jpg'); background-size: 100% 100%">
								<div class="re-box-child">
									<p>[[${categoryList[6].categoryContent}]]</p>
								</div>
							</div>
							<div class="re-box" style="flex: 1; margin-left:15px; background-image: url('/images/cleaner.jpg'); background-size: 100% 100%">
								<div class="re-box-child">
									<p>[[${categoryList[7].categoryContent}]]</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="decalcomania" style="margin-top: 30px">
				<span style="margin-left: 15px; font-weight:bold">오늘의 <span style="color:#e5e500">인기</span> 상품</span>
				<div class="d-flex justify-content-evenly align-items-center" style="margin-top: 30px;">
					<th:block th:each="product : ${productList}">
						<div th:if='${product.specialProductDv.equals("P")}' class="product-box" th:onclick="goProductDetail([[${product.specialProductId}]], [[${product.specialProductGroupId}]])" style="margin-left: 15px; width: 248px; height: 400px;">
							<img style="width: 100%; height: 195px" th:src="@{/images/mainImages.png}">
							<p class="font-s-13" style="margin-bottom: 0px;">[[${product.specialProductNm}]]</p>
							<p style="font-size:20px; font-weight:bold; margin-bottom: 0px; color:red" data-th-text="${#numbers.formatInteger(product.productPrice, 3, 'COMMA') + '원'}"></p>
							<p style="margin-bottom:0px">상품리뷰([[${product.rCnt}]])</p>
							<div class="star-parent">
								<div class="star-fill" th:style="'width: ' + ${product.reviewStarPoint} + '%;'">
									<span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>
								</div>
								<div class="star-base">
									<span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>
								</div>
							</div>
						</div>
					</th:block>			
				</div>
			</div>
			<div style="text-align: -webkit-center;">
				<div class="d-flex justify-content-center align-items-center special-product-btn">오늘의 인기상품 전체보기</div>			
			</div>
			<div style="margin-top: 30px">
				<span style="margin-left: 15px; font-weight:bold">오늘의 <span style="color:red">세일</span> 상품</span>
				<div class="d-flex justify-content-evenly align-items-center" style="margin-top: 30px;">
					<th:block th:each="product : ${productList}">
						<div th:if='${product.specialProductDv.equals("S")}' class="product-box" th:onclick="goProductDetail([[${product.specialProductId}]], [[${product.specialProductGroupId}]])" style="margin-left: 15px; width: 248px; height: 400px;">
							<img style="width: 100%; height: 195px" th:src="@{/images/mainImages.png}">
							<p class="font-s-13" style="color:#a50000; font-weight:bold; margin-top:5px; margin-bottom:5px">지금 10% 할인중</p>
							<p class="font-s-13" style="margin-bottom: 0px;">[[${product.specialProductNm}]]</p>
							<p style="font-size:20px; font-weight:bold; margin-bottom: 0px; color:red" data-th-text="${#numbers.formatInteger(product.productPrice, 3, 'COMMA') + '원'}"></p>
							<p style="margin-bottom:0px">상품리뷰([[${product.rCnt}]])</p>
							<div class="star-parent">
								<div class="star-fill" th:style="'width: ' + ${product.reviewStarPoint} + '%;'">
									<span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>
								</div>
								<div class="star-base">
									<span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>
								</div>
							</div>
						</div>
					</th:block>			
				</div>
			</div>
			<div style="text-align: -webkit-center;">
				<div class="d-flex justify-content-center align-items-center special-product-btn" style="margin-bottom:50px;">오늘의 세일상품 전체보기</div>
			</div>
		</div>
	</div>
	<div th:replace="~{/include/footer :: footer}"></div>
</body>
<script>
	// 카테고리 추천 상품 프레임을 다른 프레임과 맞춰주기
	const decalcomania = document.querySelector('.decalcomania');
	document.querySelector('.recommand-box-frame').style.width = decalcomania.offsetWidth

	function goProductDetail(id, groupId){
	let tag = document.createElement('form');
	
	tag.setAttribute('method', 'get');
	tag.setAttribute('action', `/product/${id}/${groupId}`);
	document.body.appendChild(tag);
	tag.submit(); 
	}
</script>
</html>